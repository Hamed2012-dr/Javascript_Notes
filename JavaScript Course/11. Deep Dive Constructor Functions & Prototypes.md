# Deep Dive Constructor Functions & Prototypes

- You can use the constructor with objects as you can use it in the class (because in the end, in **JavaScript**, classes are just objects). Consider:

    ```js
    function Person() {
        this.age = 23;
        this.name = "Hamed";
        this.greet = function () {
            console.log("Hi, I am " + this.name + " and I am " + this.age + " years old.");
        }
    }

    const person = new Person();

    person.greet(); // Hi, I am Hamed and I am 23 years old.
    ```

    The `new` keyword here adds all the properties and methods behind the scene to an empty object and then it returns this object. Like this:

    ```js
    function Person() {
        this = {/*Properties and Methods*/};
        // ...
        return this;
    }

    const person = new Person();
    ```

- **JavaScript** is a prototype-based language which use prototypical inheritance.
- Every constructor function you build has a special prototype property which is not added to the object you create based on it, because it's not part of the function body.
- A prototype is an object itself. Every object in **JavaScript** has a prototype and a prototype is basically a connected object which is used as a fallback object. If **JavaScript** tries to access a certain method or property and doesn't find it on an object, it automatically looks at the prototype object and looks for the property there and if it doesn't find it there, it looks at the prototype of the prototype (all the way until it reaches the end of that chain). If **JavaScript** didn't find that property or method anywhere, for a property it would return `undefined` and for a method it would throw an error.
- The `__proto__` property is present on every object in **JavaScript** :
  - No matter how you created it.
  - No matter if that is a function object or a function object which we use as a constructor function.
  - No matter if that is an object you build with object literal notation or an object you build with the help of a constructor function.
  - No matter if that is an array.
  
  It (`__proto__`) shows you the connected prototype (or backup object). For example:

  ```js
  class Person {
      name = "Hamed";
      age = 23;
  }

  const p = new Person();
  const p2 = new p.__proto__.constructor();

  console.log(p2); // Person { name: 'Hamed', age: 23 }
  ```

  In Here, the `constructor` function refers to the `Person` constructor function. So you could create more objects of that type.
- In **JavaScript**, the `Object` is a constructor function with a bunch of built-in properties or methods you can call. But it's not the fallback object of everything. For example:

    ```js
  class Person {
      name = "Hamed";
      age = 23;
  }

  const p = new Person();

  console.log(p.length); // undefined
    ```

    There is `Object.length` property. But as you can see the `Object` is not the fallback object of everything. Instead, the fallback value of all objects is `Object.prototype`, because the `prototype` property exists on everything which is a constructor and `Object` is just such a constructor function in the end.
- The objects prototype chain ends at `Object.prototype`.
